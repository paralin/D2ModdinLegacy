<template name="resultList">
  <div id="wrapper">
    <section class="container text-center" style="margin-top: 30px;">
      <h1 class="text-center">
        <strong>Match</strong> History<br/>
      </h1>
      <p>
        <button class="btn hideLive">{{#if hideLive}}Show{{else}}Hide{{/if}} Live</button> <button class="btn hideNotMe">{{#if hideNotMe}}Show All{{else}}Show My Games{{/if}}</button>
      </p>
      <ul class="pagination" style="margin:0;margin-top:10px">
        <li class={{leftClass}}><a href={{leftPath}} class="lpBtn">&laquo;</a></li>
        {{#each pages}}
          <li class={{pagClass}}><a href="/results/{{num}}">{{num}}</a></li>
        {{/each}}
        <li class={{rightClass}}><a href={{rightPath}} class="rpBtn">&raquo;</a></li>
      </ul>
    </section>
    <div id="mods" class="resultsTable">
      <section class="container">
        <div class="row">
          <table class="table table-striped">
            <thead>
              <tr>
                <th style="width:5%">Mod</th>
                <th style="width:80%">Teams</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              {{#each results}}
                <tr class={{inProgressClass}}>
                  {{#with thisMod}}
                    <td style="padding:3px"><img src={{thumbnail}} style="width:50px;height:50px;" /></td>
                  {{/with}}
                  <td>{{>inlineTeams teams}}</td>
                  <td style="text-align:right;min-width:180px">{{#if canSpectate}}<button class="btn btn-info specBtn">Spectate</button>{{/if}} <a href={{resultURI}} class="btn btn-success">Details</a></td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      </section>
    </div>
  </div>
</template>
<template name="inlineLTeams">
  <div class="ilteams">
    <p>
      {{#each radiant}}
        <span class="avi"><img src={{avatar.small}} /> {{name}}</span>
      {{/each}}
    </p>
    <p>
      {{#each dire}}
        <span class="avi"><img src={{avatar.small}} /> {{name}}</span>
      {{/each}}
    </p>
  </div>
</template>
<template name="inlineTeams">
  <div class="ilteams">
    {{#each this}}
      <p>
        {{#each players}}
          <span class="avi"><img src={{avatar}} /> {{name}}</span>
        {{/each}}
      </p>
    {{/each}}
  </div>
</template>
<template name="matchResult">
  <div id="wrapper">
    <section class="container text-center" style="margin-top: 30px;">
      <h1 class="text-center">
        <strong>{{#unless isCompleted}}LIVE {{/unless}}Match</strong> Details<br/>
        {{#with getMod}}
          <div style="margin-left:auto;margin-right:auto;width:251px">
            {{>modThumbnail}}
          </div>
        {{/with}}
        {{#if isCompleted}}
          <a href={{pathFor 'results'}} class="btn btn-link">Match List</a>
          {{else}}
          {{#if canSpectate}}
            <button class="btn btn-info specBtn">Spectate Game</button>
          {{/if}}
        {{/if}}
      </h1>
    </section>
    {{>gameTeamStats}}
  </div>
</template>
<template name="gameTeamStats">
  <div class="teamRow">
    <div class="col-sm-6 teamCol niceShadow">
      <div class="tileTitle">
        Radiant {{#if isCompleted}}{{#if good_guys_win}}Victory{{/if}}{{/if}}
      </div>
      <table class="table table-striped">
        <tbody>
          {{#each dire}}
            <tr class={{playerClass}}><td><img style="width:15px;height:15px" src={{avatar}} /> {{name}} <span style="float:right"><b>{{kills}}/{{deaths}}/{{assists}}</b> {{#if isCompleted}}Lvl{{level}} {{gold_spent}}g{{/if}}</span></td></tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    <div class="col-sm-6 teamCol niceShadow">
      <div class="tileTitle">
        Dire {{#if isCompleted}}{{#unless good_guys_win}}Victory{{/unless}}{{/if}}
      </div>
      <table class="table table-striped">
        <tbody>
          {{#each radiant}}
            <tr class={{playerClass}}><td><img style="width:15px;height:15px" src={{avatar}} /> {{name}} <span style="float:right"><b>{{kills}}/{{deaths}}/{{assists}}</b> {{#if isCompleted}}Lvl{{level}} {{gold_spent}}g{{/if}}</span></td></tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>
